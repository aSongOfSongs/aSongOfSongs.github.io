(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b970472"],{"06a2":function(t,e,a){"use strict";var s=a("fc81")(!0);a("492d")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=s(e,a),this._i+=t.length,{value:t,done:!1})}))},1998:function(t,e,a){"use strict";function s(t){if(Array.isArray(t))return t}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],s=!0,r=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(s=(n=o.next()).done);s=!0)if(a.push(n.value),e&&a.length===e)break}catch(c){r=!0,i=c}finally{try{s||null==o["return"]||o["return"]()}finally{if(r)throw i}}return a}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}function n(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){return s(t)||r(t,e)||n(t,e)||o()}a.d(e,"a",(function(){return c}))},"283e":function(t,e,a){"use strict";var s=a("a6e5"),r=a.n(s);r.a},"3c45":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.isOpen,width:"580px"},on:{"update:visible":function(e){t.isOpen=e},closed:t.closed}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("please_confirm_pay")))]),a("div",{staticClass:"form mt20"},[a("label",[t._v(t._s(t.$t("myMachine_no_double_pay")))])]),a("div",{staticClass:"dlg-bottom"},[a("el-button",{staticClass:"dlg-btn",attrs:{type:"primary",size:"small"},on:{click:t.confirm}},[t._v(t._s(t.$t("confirmPay")))]),a("el-button",{staticClass:"dlg-btn",attrs:{plain:"",size:"small"},on:{click:t.cancel}},[t._v(t._s(t.$t("myMachine_paid")))])],1)])},r=[],i=(a("365c"),a("4795"),{name:"popup_reload",props:{open:Boolean,mcData:Object,placeOrderData:{type:Object,default:function(){return{}}}},data:function(){return{isOpen:this.open}},watch:{open:function(t){this.isOpen=t}},methods:{confirm:function(){var t=this.placeOrderData;t.switch_pay_mode="confirm_pay",this.$emit("confirm",t)},cancel:function(){var t=this.placeOrderData;t.switch_pay_mode="paid",this.$emit("confirm",t)},closed:function(){this.isOpen=!1,this.$emit("update:open",!1)}}}),n=i,o=(a("4e68"),a("9ca4")),c=Object(o["a"])(n,s,r,!1,null,"7c911841",null);e["a"]=c.exports},"4e68":function(t,e,a){"use strict";var s=a("8cde"),r=a.n(s);r.a},7213:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.$t("gpu.myMachineTitle"))+"："+t._s(t.rentNumber))]),!t.isBinding&&t.bindMail?a("div",{staticClass:"binding"},[a("span",{staticClass:"bindingInfo"},[t._v(t._s(t.$t("my_machine_binding_email"))+":"+t._s(t.bindMail))]),a("el-button",{staticClass:"ml10",attrs:{size:"mini",plain:""},on:{click:function(e){return t.openDlgMail(!1)}}},[t._v(t._s(t.$t("gpu.modifyMail")))])],1):t.isBinding?t.isBinding?a("div",[t.isBinding?a("span",{staticClass:"bindInfo"},[t._v(t._s(t.$t("my_machine_vocing")))]):t._e()]):t._e():a("div",{staticClass:"bind"},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){return t.openDlgMail(!0)}}},[t._v(t._s(t.$t("gpu.bindMail")))]),a("span",{staticClass:"bindInfo ml10",domProps:{innerHTML:t._s(t.$t("gpu.bindMailInfo"))}})],1)]),t._l(t.res_body.content,(function(e,s){return t.res_body.content.length>0?a("div",{staticClass:"border-content"},[a("div",{staticClass:"tools-head"},[a("div",{staticClass:"l-wrap"},[e.orderData.task_id?a("span",{staticClass:"tools-title"},[t._v(t._s(t.$t("container_id"))+":"+t._s(e.orderData.task_id)+"      ")]):t._e(),e.orderData.have_continue_pay?a("el-button",{staticClass:"is-link",attrs:{plain:""},on:{click:function(a){return t.pushContinuePayDetail(e.orderData.order_id,e.orderData.order_is_over)}}},[t._v(t._s(t.$t("click_to_view_continue_pay")))]):t._e(),e.orderData.have_continue_pay?a("span",{staticClass:"tools-title"},[t._v("       ")]):t._e(),e.orderData.order_is_cancer||e.orderData.order_is_over?a("span",{staticClass:"tools-title"}):a("span",{staticClass:"tools-title"},[t._v(t._s(t.$t("gpu.remainingTime"))+"："+t._s(t.$secToDate(60*e.orderData.rest_time_rent,"DHM")))])],1),a("div",{staticClass:"r-wrap"},[e.orderData.order_is_over&&e.orderData.order_isnormal_over?a("span",[t._v(t._s(t.$t("my_machine_isnormal_over")))]):e.orderData.order_is_over&&!1===e.orderData.order_isnormal_over?a("span",[t._v(t._s(t.$t("my_machine_nonormal_over")))]):e.orderData.order_is_cancer?a("span",[t._v(t._s(t.$t("my_machine_order_cancer")))]):e.orderData.rent_success?a("span",[t._v(t._s(t.$t("my_machine_order_rent_success")))]):e.orderData.pay_error&&!1===e.orderData.return_dbc?a("span",[t._v(t._s(t.$t("my_machine_order_pay_error")))]):e.orderData.pay_error&&e.orderData.return_dbc?a("span",[t._v(t._s(t.$t("my_machine_order_return_dbc")))]):e.orderData.container_is_exist&&!e.orderData.vocing_pay?a("span",[t._v(t._s(t.$t("my_machine_order_vocing_machine_success")))]):t._e()])]),a("div",{staticClass:"pay-wrap"},[e.mcData.evaluation_score_average>0?a("div",{staticClass:"rate-head"},[a("div",{staticClass:"flex right vCenter"},[a("el-rate",{attrs:{value:e.mcData.evaluation_score_average/2}})],1)]):t._e(),a("div",[a("span",{staticClass:"td"},[t._v(t._s(t.$t("gpu.payDBCs"))+"："+t._s((e.orderData.dbc_total_count+parseFloat(e.orderData.code)).toFixed(4)))]),a("span",{staticClass:"td"},[t._v(t._s(t.$t("my_machine_beused_time"))+"："+t._s(parseInt(e.orderData.real_rent_time/60))+t._s(t.$t("my_machine_hour"))+t._s(e.orderData.real_rent_time%60)+t._s(t.$t("my_machine_min")))]),a("span",{staticClass:"td"},[t._v(t._s(t.$t("my_gpu_count"))+"："+t._s(e.orderData.gpu_count))])]),a("div",[a("span",{staticClass:"td"},[t._v(t._s(t.$t("gpu.actualPrice"))+"："+t._s(e.orderData.dbc_real_need_count)+" DBC")]),!1===e.orderData.have_continue_pay?a("span",{staticClass:"td"},[t._v(t._s(t.$t("gpu.gpuBilling"))+"：$ "+t._s(e.orderData.gpu_price_dollar)+"/"+t._s(t.$t("my_machine_hour")))]):t._e(),"0.3.7.2"!==e.mcData.dbc_version?a("span",{staticClass:"td"},[t._v(t._s(t.$t("diskspace_remaining"))+"："+t._s(parseInt((e.orderData.diskspace+e.orderData.diskspace_giving*e.orderData.gpu_count-e.orderData.diskspace_image_data)/1048576))+"G")]):t._e()]),a("div",[a("span",{staticClass:"td"},[t._v(t._s(t.$t("gpu.currentRemaining"))+"："+t._s((e.orderData.dbc_total_count-e.orderData.dbc_real_need_count+parseFloat(e.orderData.code)).toFixed(4))+" DBC")]),!1===e.orderData.have_continue_pay?a("span",{staticClass:"td"},[t._v(t._s(t.$t("gpu.payPrice"))+"：$ "+t._s(e.orderData.dbc_price.toFixed(4)))]):t._e(),"0.3.7.2"!==e.mcData.dbc_version?a("span",{staticClass:"td"},[t._v(t._s(t.$t("memory_space"))+"："+t._s(parseInt(e.orderData.memory/1048576))+"G")]):t._e()])]),a("div",{staticClass:"status-wrap"},[a("div",{staticClass:"flex status-title"},[a("div",[a("span",[t._v(t._s(e.mcData.machine_id))])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("my_machine_dbc_version"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.dbc_version))])])])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"td2"},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.gpu_type))]),a("a",{staticClass:"cPrimaryColor"},[t._v("x"+t._s(e.mcData.gpu_count))])])]),a("div",{staticClass:"td2"},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.country))])])])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"td5"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("month_discount_instruction")}},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(t.$t("month_discount"))+":"+t._s(e.mcData.discount_month)+"%  ")])])])],1),a("div",{staticClass:"td5"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("quarter_discount_instruction")}},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(t.$t("quarter_discount"))+":"+t._s(e.mcData.discount_quarter)+"%  ")])])])],1),a("div",{staticClass:"td5"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("year_discount_instruction")}},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(t.$t("year_discount"))+":"+t._s(e.mcData.discount_year)+"%  ")])])])],1),a("div",{staticClass:"td5"},[e.mcData.gpu_rentout_whole?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("rentout_machine_whole_instruction")}},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(t.$t("rentout_machine_whole")))])])]):a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("rentout_machine_one_gpu_instruction")}},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(t.$t("rentout_machine_one_gpu")))])])])],1),a("div",{staticClass:"td5"},[a("span",{staticClass:"fs28"}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("deposite_dbc_count_instruction")}},[a("span",{staticClass:"fs28"},[a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(t.$t("compensation_dbc_count"))+":"+t._s(e.mcData.rentout_deposite_dbc_count/e.mcData.gpu_count))])])])],1)]),a("div",{staticClass:"flex"},[a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_idle_gpus"))+":\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.gpu_count-e.mcData.gpu_be_used))])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_length_of_available_time"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(Math.floor(e.mcData.length_of_available_time))+t._s(t.$t("my_machine_hour")))])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_total_time_be_used"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(t.$minsToHourMins(e.mcData.total_time_be_used)))])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_total_rent_count"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.total_rent_count))])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_error_rent_count"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.error_rent_count))])])])]),a("div",{staticClass:"flex"},[e.mcData.tensor_cores?a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            Tensor Cores：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.tensor_cores))])])]):t._e(),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_cuda_version"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.cuda_version))])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_disk_space"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.disk_space/1048576))+"GB")]),a("a",{staticClass:"cPrimaryColor"},[t._v("  "+t._s(e.mcData.disk_type))])])]),a("div",{staticClass:"td3"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_cpu_type"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.cpu_type))])])])]),a("div",{staticClass:"flex"},[e.mcData.half_precision_tflops>0?a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_half_precision_tflops"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.half_precision_tflops)+"TFLOPS")])])]):t._e(),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_gpu_ram_size"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.gpu_ram_size/1e6))+"GB")])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_disk_bandwidth"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.disk_bandwidth/1024))+"MB/s")])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_cpu_numbers"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.cpu_numbers))])])])]),a("div",{staticClass:"flex"},[e.mcData.single_precision_tflops>0?a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_single_precision_tflops"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.single_precision_tflops)+"TFLOPS")])])]):t._e(),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_gpu_ram_bandwidth"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.gpu_ram_bandwidth/1048576))+"GB/s")])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_inet_up"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.inet_up/1024))+"Mbps")])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_ram_size"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.ram_size/1048576))+"GB")])])])]),a("div",{staticClass:"flex"},[e.mcData.double_precision_tflops>0?a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_double_precision_tflops"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.double_precision_tflops)+"TFLOPS")])])]):t._e(),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_pcie_bandwidth"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.pcie_bandwidth/1048576))+"GB/s")])])]),a("div",{staticClass:"td"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_inet_down"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(parseInt(e.mcData.inet_down/1024))+"Mbps")])])]),a("div",{staticClass:"td3"},[a("span",{staticClass:"fs16"},[t._v("\n            "+t._s(t.$t("list_os"))+"：\n            "),a("a",{staticClass:"cPrimaryColor"},[t._v(t._s(e.mcData.os))])])])])]),a("div",{staticClass:"tools-head"},[a("div",{staticClass:"l-wrap"},[t.isShowRendSuccessMsg(e.orderData.milli_rent_success_time)&&null===e.orderData.order_id_pre&&!e.orderData.from_stop_to_open?a("span",[t._v(t._s(t.$t("myMachine_rent_success_msg")))]):t._e(),t.isShowRendSuccessMsg(e.orderData.milli_rent_success_time)&&null!==e.orderData.order_id_pre&&!e.orderData.from_stop_to_open?a("span",[t._v(t._s(t.$t("myMachine_rent_success_msg_update")))]):t._e(),t.isShowRendSuccessMsg(e.orderData.milli_rent_success_time)&&null!==e.orderData.order_id_pre&&e.orderData.from_stop_to_open?a("span",[t._v(t._s(t.$t("myMachine_rent_success_msg_update_stop_to_open")))]):!0===e.orderData.vocing?a("span",[t._v(t._s(t.$t("myMachine_is_pay_vocing")))]):!1===e.orderData.order_is_cancer&&e.orderData.container_is_exist&&null===e.orderData.wallet_address_dbchain?a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("myMachine_maybe_is_used")))]):null!==e.orderData.order_id_pre||!e.orderData.creating_container&&!t.creating_container||e.orderData.order_is_cancer||e.orderData.order_is_over||e.orderData.rent_success||e.orderData.pay_error?null===e.orderData.order_id_pre||!e.orderData.creating_container&&!t.creating_container||e.orderData.order_is_cancer||e.orderData.order_is_over||e.orderData.rent_success||e.orderData.pay_error||e.orderData.from_stop_to_open?null===e.orderData.order_id_pre||!e.orderData.creating_container&&!t.creating_container||e.orderData.order_is_cancer||e.orderData.order_is_over||e.orderData.rent_success||e.orderData.pay_error||!e.orderData.from_stop_to_open?!t.isPaying||e.orderData.order_is_cancer||e.orderData.pay_success||e.orderData.order_is_over||e.orderData.rent_success||e.orderData.pay_error?t.local_pay_error&&!t.isPaying?a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("myMachine_is_transfer_error")))]):(!e.orderData.vocing_pay&&!t.ispayPocing||e.orderData.order_is_cancer||e.orderData.rent_success||e.orderData.order_is_over||!e.orderData.container_is_exist||null!==e.orderData.order_id_pre)&&(!e.orderData.vocing_pay&&!t.ispayPocing||e.orderData.order_is_cancer||e.orderData.pay_success||e.orderData.order_is_over||null==e.orderData.order_id_pre)?e.mcData.gpu_be_used!==e.mcData.gpu_count||!1!==e.orderData.order_is_cancer||e.orderData.rent_success||e.orderData.order_is_over||e.orderData.container_is_exist?t.isShowRendSuccessMsg(e.orderData.milli_rent_success_time)||!e.orderData.rent_success||e.orderData.order_is_over||e.mcData.can_create_cpu_container?!1===e.orderData.rent_success&&(null===e.orderData.order_id_pre&&!0===e.orderData.container_is_exist&&!1===e.orderData.pay_error||null!==e.orderData.order_id_pre&&!1===e.orderData.order_is_over&&!1===e.orderData.order_is_cancer&&!1===e.orderData.pay_success&&!1===e.orderData.pay_error)?a("span",[t._v(t._s(t.$t("myMachine_confirm_pay_tip")))]):t._e():a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("no_container")))]):a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("myMachine_maybe_is_used")))]):a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("my_machine_order_vocing_pay")))]):a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("myMachine_is_dbc_transfering")))]):a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("myMachine_is_vocing_machine_update_stop_to_open"))+t._s(parseInt(e.orderData.diskspace_image_data/16777216)+1)+"-"+t._s(parseInt(e.orderData.diskspace_image_data/1572864)+9)+t._s(t.$t("my_machine_min")))]):a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("myMachine_is_vocing_machine_update"))+t._s(parseInt(e.orderData.diskspace_image_data/16777216)+1)+"-"+t._s(parseInt(e.orderData.diskspace_image_data/1572864)+9)+t._s(t.$t("my_machine_min")))]):a("span",{staticClass:"cRed"},[t._v(t._s(t.$t("myMachine_is_vocing_machine")))])]),!1!==e.orderData.order_is_cancer||!0===e.orderData.return_dbc&&!0===e.orderData.pay_error?t._e():a("div",{staticClass:"r-wrap"},[e.orderData.order_is_over?a("el-button",{staticClass:"tool-btn",staticStyle:{width:"86px"},attrs:{plain:"",size:"mini"},on:{click:function(a){return t.openRateDlg(e)}}},[t._v(t._s(t.$t("gpu.rate")))]):e.orderData.rent_success?[t.isShowRendSuccessMsg(e.orderData.milli_rent_success_time)?a("el-button",{staticClass:"tool-btn",staticStyle:{width:"100px"},attrs:{plain:"",size:"mini",loading:t.send_email_repeatLoading&&t.send_email_repeat_index===s},on:{click:function(a){return t.send_email_repeat(e,s)}}},[t._v(t._s(t.$t("send_email_repeat")))]):t._e(),!1===e.orderData.try_rent?a("el-button",{staticClass:"tool-btn",staticStyle:{width:"80px"},attrs:{plain:"",size:"mini",loading:t.continue_payLoading&&t.continue_pay_index===s},on:{click:function(a){return t.openContinuePay(e,s)}}},[t._v(t._s(t.$t("continue_pay")))]):t._e(),"0.3.7.2"!==e.mcData.dbc_version&&!1===e.orderData.try_rent?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("stoprent_tip_mymachine")}},[!1===e.orderData.try_rent?a("el-button",{staticClass:"tool-btn",staticStyle:{width:"90px"},attrs:{plain:"",size:"mini"},on:{click:function(a){return t.stopRent(e)}}},[t._v(t._s(t.$t("unsubscribe")))]):t._e()],1):t._e(),"0.3.7.2"===e.mcData.dbc_version&&!1===e.orderData.try_rent?a("el-button",{staticClass:"tool-btn",staticStyle:{width:"110px"},attrs:{plain:"",size:"mini"},on:{click:function(a){return t.stopRent(e)}}},[t._v(t._s(t.$t("unsubscribe")))]):t._e(),!1===e.orderData.try_rent?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("stopgpu_tip_mymachine")}},[a("el-button",{staticClass:"tool-btn",staticStyle:{width:"110px"},attrs:{plain:"",size:"mini",disabled:"0.3.7.2"===e.mcData.dbc_version||!e.mcData.can_create_cpu_container,loading:t.rentLoading_cpu&&t.rent_cpu_index===s},on:{click:function(a){return t.stopGpu(e,s)}}},[t._v(t._s(t.$t("stopGpu_mymachine")))])],1):t._e(),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("restart_tip_mymachine")}},[a("el-button",{staticClass:"tool-btn",staticStyle:{width:"110px"},attrs:{plain:"",size:"mini"},on:{click:function(a){return t.restartMachine(e)}}},[t._v(t._s(t.$t("restart_machine")))])],1)]:!1===e.orderData.return_dbc&&e.orderData.pay_error?a("el-button",{staticClass:"tool-btn",staticStyle:{width:"86px"},attrs:{plain:"",size:"mini"},on:{click:function(a){return t.openReturnDbc(e)}}},[t._v(t._s(t.$t("myMachine_return_dbc")))]):!1===e.orderData.rent_success?[null===e.orderData.order_id_pre&&!0===e.orderData.container_is_exist&&!1===e.orderData.pay_error||null!==e.orderData.order_id_pre&&!1===e.orderData.order_is_over&&!1===e.orderData.order_is_cancer&&!1===e.orderData.pay_success&&!1===e.orderData.pay_error?a("el-button",{staticClass:"tool-btn",attrs:{disabled:!0===e.verifing||e.orderData.vocing_pay||t.ispayPocing,plain:"",loading:t.isPaying,size:"mini"},on:{click:function(a){return t.openPay(e)}}},[t._v(t._s(t.$t("myMachine_confirm_pay")))]):t._e(),null===e.orderData.order_id_pre||!1===e.orderData.pay_success?a("el-button",{staticClass:"tool-btn",attrs:{disabled:t.isPaying,size:"mini",plain:"",loading:t.isCancering},on:{click:function(a){return t.cancelOrder(e)}}},[t._v(t._s(t.$t("myMachine_concer_order")))]):t._e()]:t._e()],2)])]):t._e()})),a("dlg-reload",{attrs:{open:t.dlgReload_open},on:{"update:open":function(e){t.dlgReload_open=e}}}),a("dlg-hd",{attrs:{open:t.dlgHD_open},on:{"update:open":function(e){t.dlgHD_open=e}}}),a("dlg-mail",{attrs:{open:t.dlgMail_open,"is-new-mail":t.isNewMail},on:{"update:open":function(e){t.dlgMail_open=e},binding:t.binding,fail:t.bindFail}}),a("dlg-unsubscribe",{attrs:{item:t.curItem,open:t.dlgUnsubscribe_open},on:{"update:open":function(e){t.dlgUnsubscribe_open=e},success:t.stopRentSuccess}}),a("dlg-restart",{attrs:{item:t.curItem,open:t.dlgRestart_open},on:{"update:open":function(e){t.dlgRestart_open=e},success:t.restartSuccess}}),a("dlg-rate",{attrs:{open:t.dlgRate_open,item:t.curItem},on:{"update:open":function(e){t.dlgRate_open=e},success:t.successRate}}),a("dlg-return-dbc",{attrs:{open:t.dlgReturnDbc_open,item:t.curItem},on:{"update:open":function(e){t.dlgReturnDbc_open=e},success:t.returnSuccess}}),a("dlg-continuepay",{attrs:{open:t.openContinueDlg,"place-order-data":t.placeOrderData},on:{"update:open":function(e){t.openContinueDlg=e},confirm:t.createOrder}}),a("dlg-leasestopgpu",{attrs:{open:t.dlg_stopgpu,"place-order-data":t.placeOrderData},on:{"update:open":function(e){t.dlg_stopgpu=e},confirm:t.switch_cpu_mode}}),a("dlg-leasecpupayment",{attrs:{open:t.dlg_opencpupayment,"place-order-data":t.placeOrderData},on:{"update:open":function(e){t.dlg_opencpupayment=e},confirm:t.createOrderCpu}}),a("dlg-leasecpudeposit",{attrs:{open:t.dlg_opencpudeposit,"place-order-data":t.placeOrderData},on:{"update:open":function(e){t.dlg_opencpudeposit=e},confirm:t.createOrderCpu}}),a("dlg-leaseconfirmpay",{attrs:{open:t.dlg_leaseconfirmpay,"place-order-data":t.placeOrderData},on:{"update:open":function(e){t.dlg_leaseconfirmpay=e},confirm:t.switch_pay}})],2)},r=[],i=(a("6a61"),a("cf7f")),n=a("1998"),o=(a("6d57"),a("06a2"),a("e697"),a("e04f")),c=a.n(o),_=a("3823"),l=a("aeb7"),d=a("d3fe"),u=a("4861"),p=a("f746"),m=a("1f63"),g=a("737a"),h=a("d3e0"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.isOpen,width:"580px"},on:{"update:visible":function(e){t.isOpen=e},closed:t.closed}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("stopGpu_mymachine")))]),a("div",{staticClass:"form mt20"},[a("label",[t._v(t._s(t.$t("stopgpu_please_switch_cpu_mode")))])]),a("div",{staticClass:"dlg-bottom"},[a("el-button",{staticClass:"dlg-btn",attrs:{type:"primary",size:"small"},on:{click:t.confirm}},[t._v(t._s(t.$t("payment")))]),a("el-button",{staticClass:"dlg-btn",attrs:{plain:"",size:"small"},on:{click:t.cancel}},[t._v(t._s(t.$t("deposit")))])],1)])},v=[],y=a("365c"),D=a("4795"),b={name:"popup_reload",props:{open:Boolean,mcData:Object,placeOrderData:{type:Object,default:function(){return{}}}},data:function(){return{isOpen:this.open}},watch:{open:function(t){this.isOpen=t}},methods:{confirm:function(){var t=this.placeOrderData;t.switch_cpu_mode="payment",this.$emit("confirm",t)},cancel:function(){var t=this.placeOrderData;t.switch_cpu_mode="deposit",this.$emit("confirm",t)},closed:function(){this.isOpen=!1,this.$emit("update:open",!1)}}},C=b,$=(a("283e"),a("9ca4")),O=Object($["a"])(C,f,v,!1,null,"74557c9b",null),w=O.exports,P=a("5286"),I=a("c059"),M=a("3c45"),x={name:"myMachine_unlock",components:{DlgReload:_["a"],DlgHd:l["a"],DlgMail:d["a"],DlgUnsubscribe:u["a"],DlgRestart:p["a"],DlgRate:m["a"],DlgReturnDbc:g["a"],DlgContinuepay:h["a"],DlgLeasecpudeposit:P["a"],DlgLeasecpupayment:I["a"],DlgLeasestopgpu:w,DlgLeaseconfirmpay:M["a"]},data:function(){return{rateValue:void 0,dlgReload_open:!1,dlgHD_open:!1,dlgMail_open:!1,dlgUnsubscribe_open:!1,dlgRate_open:!1,dlgReturnDbc_open:!1,dlg_opencpupayment:!1,dlg_opencpudeposit:!1,dlg_stopgpu:!1,openContinueDlg:!1,dlg_leaseconfirmpay:!1,isNewMail:!1,isBinding:!1,isBinded:!1,placeOrderData:void 0,bindMail:"",res_body:{content:[]},isPaying:!1,local_pay_error:!1,ispayPocing:!1,isPocing:!1,curItem:void 0,isRateEdit:!1,si:void 0,queryOrderListSi:void 0,container_tips:"",creating_container:!1,isCancering:!1,continue_payLoading:!1,rentLoading_cpu:!1,rent_cpu_index:-1,send_email_repeatLoading:!1,send_email_repeat_index:-1,continue_pay_index:-1,times:20}},watch:{"$i18n.locale":function(){var t=this;this.queryOrderList().then((function(e){1===e.status&&(t.forceToPocMachine(),t.forceToPocMachineUpdate())})),this.queryOrderListSi&&clearInterval(this.queryOrderListSi);var e=0;this.queryOrderListSi=setInterval((function(){e+=1,e===t.times&&clearInterval(t.queryOrderListSi),!0!==t.isPaying&&t.queryOrderList().then((function(e){1===e.status&&(t.forceToPocMachine(),t.forceToPocMachineUpdate())}))}),15e3)}},activated:function(){var t=this;this.ispayPocing=!1,this.queryMail(),this.queryOrderList().then((function(e){1===e.status&&(t.forceToPocMachine(),t.forceToPocMachineUpdate())})),this.queryOrderListSi&&clearInterval(this.queryOrderListSi);var e=0;this.queryOrderListSi=setInterval((function(){e+=1,e===t.times&&clearInterval(t.queryOrderListSi),!0!==t.isPaying&&t.queryOrderList().then((function(e){1===e.status&&(t.forceToPocMachine(),t.forceToPocMachineUpdate())}))}),15e3)},deactivated:function(){this.queryOrderListSi&&clearInterval(this.queryOrderListSi),this.si&&clearInterval(this.si)},computed:{rentNumber:function(){return this.res_body.content.filter((function(t){return t.orderData.rent_success})).length}},methods:{openPay:function(t){this.dlg_leaseconfirmpay=!0,this.placeOrderData=t},switch_pay:function(t){this.dlg_leaseconfirmpay=!1,"confirm_pay"===t.switch_pay_mode?this.payOrder(t):"paid"===t.switch_pay_mode&&this.paid(t)},stopGpu:function(t,e){this.dlg_stopgpu=!0,this.placeOrderData=t.orderData,this.placeOrderData.index=e},switch_cpu_mode:function(t){this.dlg_stopgpu=!1,"payment"===t.switch_cpu_mode?this.to_payment(t,t.index):"deposit"===t.switch_cpu_mode&&this.to_deposit(t,t.index)},to_payment:function(t,e){var a=this;this.rentLoading_cpu=!0,this.rent_cpu_index=e,this.$forceUpdate();var s=this.$t("website_name"),r=this.$i18n.locale;Object(y["cb"])({machine_type:t.machine_type,machine_id:t.machine_id,wallet_address_user:Object(D["c"])().address,mode:"payment",order_id_pre:t.order_id,user_name_platform:s,language:r}).then((function(t){return 1===t.status?(a.placeOrderData=t.content,a.placeOrderData.dbc_price=.0026,Object(y["E"])({order_id:a.placeOrderData.order_id,user_name_platform:s,language:r})):(a.$message({showClose:!0,message:t.msg,type:"error"}),Promise.reject(t.msg))})).then((function(t){if(1!==t.status)return a.$message({showClose:!0,message:t.msg,type:"success"}),Promise.reject(t.msg);a.placeOrderData.dbc_price=t.content,a.dlg_opencpupayment=!0})).catch((function(t){console.log(t)})).finally((function(){a.rentLoading_cpu=!1,a.rent_cpu_index=e}))},to_deposit:function(t,e){var a=this;this.rentLoading_cpu=!0,this.rent_cpu_index=e,this.$forceUpdate();var s=this.$t("website_name"),r=this.$i18n.locale;Object(y["cb"])({machine_type:t.machine_type,machine_id:t.machine_id,wallet_address_user:Object(D["c"])().address,user_name_platform:s,mode:"deposit",order_id_pre:t.order_id,language:r}).then((function(t){return 1===t.status?(a.placeOrderData=t.content,a.placeOrderData.dbc_price=.0026,Object(y["E"])({order_id:a.placeOrderData.order_id,user_name_platform:s,language:r})):(a.$message({showClose:!0,message:t.msg,type:"error"}),Promise.reject(t.msg))})).then((function(t){if(1!==t.status)return a.$message({showClose:!0,message:t.msg,type:"success"}),Promise.reject(t.msg);a.placeOrderData.dbc_price=t.content,a.dlg_opencpudeposit=!0})).catch((function(t){console.log(t)})).finally((function(){a.rentLoading_cpu=!1,a.rent_cpu_index=e}))},createOrderCpu:function(t){var e=this,a=this.$loading();Object(y["r"])(t).then((function(a){1===a.status?(e.$message({showClose:!0,message:e.$t("list_create_order_success"),type:"success"}),e.dlg_stopgpu=!1,e.dlg_opencpupayment=!1,e.dlg_opencpudeposit=!1,0===t.gpu_count?e.$router.push("/mymachine/myMachine_cpu"):e.$router.push("/mymachine/myMachine")):e.$message({showClose:!0,message:a.msg,type:"error"})})).finally((function(){a.close()}))},pushContinuePayDetail:function(t,e){this.$router.push("/continuePayDetail?order_id="+t+"&order_is_over="+e)},createOrder:function(t){var e=this,a=this.$loading();Object(y["i"])(t).then((function(a){1===a.status?(e.$message({showClose:!0,message:e.$t("list_create_order_success"),type:"success"}),e.openContinueDlg=!1,e.$router.push("/continuePayDetail?order_id="+t.order_id+"&order_is_over="+t.order_is_over)):e.$message({showClose:!0,message:a.msg,type:"error"})})).finally((function(){a.close()}))},openContinuePay:function(t,e){var a=this;this.continue_payLoading=!0,this.continue_pay_index=e,this.$forceUpdate();var s=this.$t("website_name"),r=this.$i18n.locale;Object(y["n"])({order_id:t.orderData.order_id,user_name_platform:s,language:r}).then((function(t){return 1===t.status?(a.placeOrderData=t.content,Object(y["l"])({continue_pay_order_id:a.placeOrderData.continue_pay_order_id,user_name_platform:s,language:r})):(a.$message({showClose:!0,message:t.msg,type:"error"}),Promise.reject(t.msg))})).then((function(t){if(1!==t.status)return a.$message({showClose:!0,message:t.msg,type:"success"}),Promise.reject(t.msg);a.placeOrderData.dbc_price=t.content,a.openContinueDlg=!0})).catch((function(t){console.log(t)})).finally((function(){a.continue_payLoading=!1,a.continue_pay_index=-1}))},forceToPocMachine:function(){var t=this.res_body.content.find((function(t,e){return null===t.orderData.order_id_pre&&!t.orderData.order_is_over&&!t.orderData.order_is_cancer&&!t.orderData.rent_success&&!t.orderData.vocing_pay&&!t.orderData.pay_error&&!t.orderData.container_is_exist}));t&&this.pocMachine(t)},forceToPocMachineUpdate:function(){var t=this.res_body.content.find((function(t,e){return null!==t.orderData.order_id_pre&&!t.orderData.order_is_over&&!t.orderData.order_is_cancer&&!t.orderData.rent_success&&t.orderData.pay_success&&!t.orderData.container_is_exist}));t&&this.pocMachineUpdate(t)},forceToPocIsPayed:function(){var t=this.res_body.content.find((function(t,e){return!t.orderData.order_is_over&&!t.orderData.order_is_cancer&&!t.orderData.rent_success&&!t.orderData.vocing_pay&&!t.orderData.pay_error&&t.orderData.container_is_exist}));t&&this.pocIsPayed(t)},pocIsPayed:function(t){var e=this;this.PocingPayed=!0,clearInterval(this.si),this.si=setInterval((function(){var a=e.$t("website_name"),s=e.$i18n.locale;return Object(y["e"])({order_id:t.orderData.order_id,user_name_platform:a,language:s}).then((function(a){if(1!==a.status||!a.content)return 2===a.status?(e.queryOrderList(),Promise.reject({status:2,msg:"正在验证机器环境是否可用，请耐心等待，大概需要1-3分钟"})):a.content?(e.queryOrderList(),clearInterval(e.si),Promise.reject({status:-1,msg:a.msg})):(e.queryOrderList(),clearInterval(e.si),Promise.reject({status:-1,msg:"机器可能已经被租用，请取消订单，重新租用其他机器"}));console.log(a.msg),t.notice="",e.queryOrderList(),clearInterval(e.si),t.orderData.order_is_cancer&&clearInterval(e.si)}))}),5e3)},pocMachine:function(t){var e=this;this.isPocing=!0,clearInterval(this.si),t.orderData.creating_container=!0,this.si=setInterval((function(){var a=e.$t("website_name"),s=e.$i18n.locale;return Object(y["e"])({order_id:t.orderData.order_id,user_name_platform:a,language:s}).then((function(a){if(1===a.status&&a.content)console.log(a.msg),t.notice="",e.queryOrderList(),e.creating_container=!1,e.ispayPocing=!1,clearInterval(e.si),times=150;else{if(2===a.status)return e.ispayPocing=!1,e.queryOrderList(),Promise.reject({status:2,msg:"正在验证机器环境是否可用，请耐心等待，大概需要3分钟"});if(-1!=a.status)return a.content?(e.queryOrderList(),e.creating_container=!1,e.ispayPocing=!1,clearInterval(e.si),Promise.reject({status:-1,msg:a.msg})):(e.queryOrderList(),e.creating_container=!1,e.ispayPocing=!1,clearInterval(e.si),Promise.reject({status:-1,msg:"机器可能已经被租用，请取消订单，重新租用其他机器"}));e.container_tips=a.msg,e.creating_container=!1,e.ispayPocing=!1,clearInterval(e.si),e.queryOrderList(),e.$message({showClose:!0,message:a.msg,type:"error"})}t.orderData.order_is_cancer&&(e.ispayPocing=!1,clearInterval(e.si))})).catch((function(t){e.ispayPocing=!1,e.queryOrderList(),clearInterval(e.si)}))}),5e3)},pocMachineUpdate:function(t){var e=this;this.isPocing=!0,clearInterval(this.si),t.orderData.creating_container=!0,this.si=setInterval((function(){var a=e.$t("website_name"),s=e.$i18n.locale;return Object(y["ub"])({order_id:t.orderData.order_id,user_name_platform:a,language:s}).then((function(a){if(1===a.status&&a.content)console.log(a.msg),t.notice="",e.creating_container=!1,e.queryOrderList(),clearInterval(e.si);else if(2===a.status)e.queryOrderList();else if(-1==a.status)e.container_tips=a.msg,clearInterval(e.si),e.creating_container=!1,e.queryOrderList(),e.$message({showClose:!0,message:a.msg,type:"error"});else{if(a.content)return e.queryOrderList(),e.creating_container=!1,clearInterval(e.si),Promise.reject({status:-1,msg:a.msg});e.queryOrderList(),e.creating_container=!1,clearInterval(e.si)}t.orderData.order_is_cancer&&clearInterval(e.si)})).catch((function(t){e.queryOrderList(),clearInterval(e.si)}))}),5e3)},paid:function(t){var e=this;clearInterval(this.si);var a=this.$t("website_name"),s=this.$i18n.locale;t.orderData.vocing_pay=!0,this.ispayPocing=!0,null===t.orderData.order_id_pre?this.si=setInterval((function(){return Object(y["V"])({order_id:t.orderData.order_id,user_name_platform:a,language:s}).then((function(a){e.queryOrderList(),1===a.status?(clearInterval(e.si),e.ispayPocing=!1,t.orderData.vocing_pay=!1,e.queryOrderList()):2===a.status?e.queryOrderList():-1===a.status&&(e.queryOrderList(),e.ispayPocing=!1,t.orderData.vocing_pay=!1,clearInterval(e.si),e.$message({showClose:!0,message:a.msg,type:"error"}))})).catch((function(t){}))}),5e3):this.si=setInterval((function(){return Object(y["W"])({order_id:t.orderData.order_id,user_name_platform:a,language:s}).then((function(a){1===a.status?(clearInterval(e.si),e.ispayPocing=!1,e.creating_container=!0,t.orderData.vocing_pay=!1,e.queryOrderList(),e.forceToPocMachineUpdate()):-1===a.status?(clearInterval(e.si),e.ispayPocing=!1,t.orderData.vocing_pay=!1,e.queryOrderList(),e.$message({showClose:!0,message:a.msg,type:"error"})):2===a.status&&e.queryOrderList()})).catch((function(t){}))}),5e3)},payOrder:function(t){var e=this;clearInterval(this.si),this.ispayPocing=!1;var a=this.$t("website_name"),s=this.$i18n.locale;Object(y["F"])({order_id:t.orderData.order_id,user_name_platform:a,language:s}).then((function(a){if(1===a.status&&a.content){var s=t.orderData.dbc_total_count+1*t.orderData.code;return e.isPaying=!0,e.local_pay_error=!1,Object(D["l"])({toAddress:a.content,amount:s}).then((function(a){if(1===a.status){e.$message({showClose:!0,message:e.$t("transfer_success"),type:"success"});var s=a.response.txid;e.isPaying=!1,t.orderData.vocing_pay=!0;var r=e.$t("website_name"),i=e.$i18n.locale;e.ispayPocing=!0,e.times=10,null===t.orderData.order_id_pre?e.si=setInterval((function(){return Object(y["V"])({order_id:t.orderData.order_id,dbc_hash:s,user_name_platform:r,language:i}).then((function(a){e.queryOrderList(),1===a.status?(clearInterval(e.si),e.ispayPocing=!1,t.orderData.vocing_pay=!1,e.queryOrderList()):2===a.status?e.queryOrderList():-1===a.status&&(e.queryOrderList(),e.ispayPocing=!1,t.orderData.vocing_pay=!1,clearInterval(e.si),e.$message({showClose:!0,message:a.msg,type:"error"}))})).catch((function(t){}))}),8e3):e.si=setInterval((function(){return Object(y["W"])({order_id:t.orderData.order_id,dbc_hash:s,user_name_platform:r,language:i}).then((function(a){1===a.status?(clearInterval(e.si),e.ispayPocing=!1,e.creating_container=!0,t.orderData.vocing_pay=!1,e.queryOrderList(),e.forceToPocMachineUpdate()):-1===a.status?(clearInterval(e.si),e.ispayPocing=!1,t.orderData.vocing_pay=!1,e.queryOrderList(),e.$message({showClose:!0,message:a.msg,type:"error"})):2===a.status&&e.queryOrderList()})).catch((function(t){}))}),8e3)}else e.isPaying=!1,e.$message({showClose:!0,message:e.$t("transfer_error"),type:"error"}),clearInterval(e.si),e.local_pay_error=!0,console.log("转账失败")}))}return Promise.reject({status:-1,msg:"机器可能已经被租用，请取消订单，重新租用其他机器"})}))},cancelOrder:function(t){var e=this;this.isCancering=!0,Object(y["B"])({order_id:t.orderData.order_id,user_name_platform:this.$t("website_name"),language:this.$i18n.locale}).then((function(a){if(1!==a.status)return e.isCancering=!1,e.$message({showClose:!0,message:a.msg,type:"error"}),Promise.reject();e.$prompt(e.$t("myMachine_code_send"),e.$t("myMachine_cancer_order"),{confirmButtonText:e.$t("myMachine_confirm"),cancelButtonText:e.$t("myMachine_cancer")}).then((function(a){var s=a.value;return Object(y["f"])({order_id:t.orderData.order_id,cancer_code:s,user_name_platform:e.$t("website_name"),language:e.$i18n.locale})})).then((function(t){1===t.status?(e.isCancering=!1,e.$message({showClose:!0,message:t.msg,type:"success"}),e.queryOrderList()):(e.isCancering=!1,e.$message({showClose:!0,message:t.msg,type:"error"}))})).catch((function(t){e.isCancering=!1,t&&console.log(t)}))})).catch((function(t){e.isCancering=!1})).finally((function(){}))},queryOrderList:function(){var t=this;if(Object(D["c"])()){var e=Object(D["c"])().address,a=this.$t("website_name"),s=this.$i18n.locale,r=[Object(y["ib"])({wallet_address_user:e,user_name_platform:a,language:s}),Object(y["y"])({wallet_address_user:e,user_name_platform:a,language:s})];return Promise.all(r).then((function(e){var a=Object(n["a"])(e,2),s=a[0],r=a[1];return t.res_body.content=[],r.content&&r.content.forEach((function(e){var a=s.content.find((function(t){return e.machine_id===t.machine_id}));a&&(t.res_body.content.push({verifing:!1,notice:"",orderData:e,mcData:a}),null===e.order_id_pre&&!0===e.container_is_exist&&!1===e.pay_error?t.times=30:null!==e.order_id_pre&&!1===e.order_is_over&&!1===e.order_is_cancer&&!1===e.pay_success&&!1===e.pay_error&&(t.times=150))})),Promise.resolve({status:1})})).catch((function(t){t&&console.log(t)}))}},pushDetail:function(t){this.$router.push("/machineDetail?machine_id="+t)},openDlgMail:function(t){var e=this;Object(D["d"])().then((function(a){e.balance=a.balance,e.balance<1?e.$message({showClose:!0,message:e.$t("dlg_bindMail_no_dbc"),type:"error"}):(e.isNewMail=t,e.dlgMail_open=!0)}))},queryMail:function(){var t=this;this.bindMail=c.a.get("mail");var e=Object(D["c"])().address,a=this.$t("website_name"),s=this.$i18n.locale;Object(y["fb"])({wallet_address:e,user_name_platform:a,language:s}).then((function(r){1===r.status?(t.bindMail=r.content,c.a.set("mail",r.content)):(Object(y["c"])({wallet_address:e,user_name_platform:a,language:s}).then((function(e){2===e.status&&(t.isBinding=!0)})),Object(y["d"])({wallet_address:e,user_name_platform:a,language:s}).then((function(e){2===e.status&&(t.isBinding=!0)})))}))},binding:function(t){var e=this;this.isBinding=!0;var a=!0,s=this.$t("website_name"),r=this.$i18n.locale,n=setInterval(Object(i["a"])(regeneratorRuntime.mark((function i(){var o,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!a){i.next=14;break}if(!t){i.next=9;break}return a=!1,i.next=5,Object(y["c"])({wallet_address:Object(D["c"])().address,user_name_platform:s,language:r});case 5:o=i.sent,1===o.status&&(clearInterval(n),e.bindSuccess()),i.next=14;break;case 9:return a=!1,i.next=12,Object(y["d"])({wallet_address:Object(D["c"])().address,user_name_platform:s,language:r});case 12:c=i.sent,1===c.status&&(clearInterval(n),e.bindSuccess());case 14:a=!0;case 15:case"end":return i.stop()}}),i)}))),15e3)},send_email_repeat:function(t,e){var a=this,s=this.$t("website_name"),r=this.$i18n.locale;this.send_email_repeatLoading=!0,this.send_email_repeat_index=e,Object(y["pb"])({order_id:t.orderData.order_id,user_name_platform:s,language:r}).then((function(t){1===t.status?a.$message({showClose:!0,message:t.msg,type:"success"}):-1===t.status&&a.$message({showClose:!0,message:t.msg,type:"error"})})).catch((function(t){a.$message({showClose:!0,message:a.$t("send_email_error"),type:"error"})})).finally((function(){a.send_email_repeatLoading=!1,a.send_email_repeat_index=-1}))},bindFail:function(){this.isBinding=!1},bindSuccess:function(){this.isBinding=!1,this.queryMail()},stopRent:function(t){this.dlgUnsubscribe_open=!0,this.curItem=t},restartMachine:function(t){this.dlgRestart_open=!0,this.curItem=t},stopRentSuccess:function(){this.queryOrderList()},restartSuccess:function(){this.queryOrderList()},openRateDlg:function(t){this.curItem=t,this.dlgRate_open=!0},successRate:function(){this.queryOrderList()},openReturnDbc:function(t){this.curItem=t,this.dlgReturnDbc_open=!0},returnSuccess:function(){this.queryOrderList()},isShowRendSuccessMsg:function(t){var e=((new Date).getTime()-t)/1e3/60;return e<14}}},L=x,j=(a("a6cc"),Object($["a"])(L,s,r,!1,null,"70d96ec8",null));e["default"]=j.exports},7722:function(t,e,a){"use strict";var s=a("e806"),r=a.n(s);r.a},"8cde":function(t,e,a){},9546:function(t,e,a){"use strict";var s=a("ac2e"),r=a.n(s);r.a},a6cc:function(t,e,a){"use strict";var s=a("e484"),r=a.n(s);r.a},a6e5:function(t,e,a){},ac2e:function(t,e,a){},d3e0:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.isOpen,width:"580px"},on:{"update:visible":function(e){t.isOpen=e},closed:t.closed}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("continue_pay")))]),a("div",{staticClass:"dlg-content"},[a("div",{staticClass:"form mt20"},[a("label",[t._v(t._s(t.$t("continue_pay_time"))+"：")]),a("el-input",{staticStyle:{width:"180px"},attrs:{size:"small",type:"number"},on:{input:t.computeTotalDBC},model:{value:t.time,callback:function(e){t.time=t._n("string"===typeof e?e.trim():e)},expression:"time"}}),a("el-select",{staticClass:"time-select ml10",attrs:{size:"small"},on:{change:t.computeTotalDBC},model:{value:t.timeSelect,callback:function(e){t.timeSelect=e},expression:"timeSelect"}},t._l(t.timeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1),0!==t.placeOrderData.gpu_count?a("span",{staticClass:"fs12 cGray ml10"},[t._v(t._s((t.placeOrderData.gpu_price_dollar*t.placeOrderData.gpu_count+t.placeOrderData.disk_dollar).toFixed(4))+"$/"+t._s(t.$t("my_machine_hour")))]):t._e(),0===t.placeOrderData.gpu_count?a("span",{staticClass:"fs12 cGray ml10"},[t._v(t._s((t.placeOrderData.gpu_price_dollar+t.placeOrderData.disk_dollar).toFixed(4))+"$/"+t._s(t.$t("my_machine_hour")))]):t._e()],1),a("div",{staticClass:"form-notice"},[t._v(t._s(t.$t("tips"))+"："+t._s(t.$t("msg.dlg_0",{time:t.outDayTime})))]),a("div",{staticClass:"computer-dbc mt30"},[a("span",[t._v(t._s(t.$t("total"))+"："+t._s(t.totalPrice.toFixed(4))+t._s(t.$t("$")))]),a("span",{staticClass:"ml20"},[t._v(t._s(t.$t("gpu.exchangeDBC"))+"："+t._s(t.total_price))])]),a("div",{staticClass:"form-notice"},[t._v(t._s(t.$t("dlg_lease_wallet_balance"))+": "+t._s(t.balance))]),a("div",{staticClass:"form-notice"},[t._v(t._s(t.$t("left_gasamount"))+": "+t._s(t.gas_balance.toFixed(3)))]),a("div",{staticClass:"desc-box",domProps:{innerHTML:t._s(t.$t("msg.dlg_5"))}})]),a("div",{staticClass:"dlg-bottom"},[a("el-button",{staticClass:"dlg-btn",attrs:{type:"primary",size:"small",disabled:!t.isCanCreateOrder},on:{click:t.confirm}},[t._v(t._s(t.$t("dlg_lease_create_order")))]),a("el-button",{staticClass:"dlg-btn",attrs:{plain:"",size:"small"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))])],1)])},r=[],i=a("365c"),n=a("4795"),o={name:"popup_continuepay",props:{open:Boolean,placeOrderData:{type:Object,default:function(){return{continue_pay_order_id:"",gpu_price_dollar:1e-4,code:"0.3848",time_max:1500,order_id:"",gpu_count:1,dbc_price:.0026}}}},data:function(){return{isOpen:this.open,timeSelect:1,timeOptions:[{name:this.$t("hour"),value:1},{name:this.$t("day"),value:24}],gpuCount:1,time:1,total_price:"",isGetTotalPrice:!1,reqSt:void 0,isCanCreateOrder:!0,balance:"0",gas_balance:0}},watch:{open:function(t){this.isOpen=t,t&&(this.time=1,this.dbc_price="",this.getPayDbcCount(),this.getBalance(),this.getGasBalance())},time:function(t){this.isCanCreateOrder=!!t}},computed:{outDayTime:function(){var t=parseInt(this.placeOrderData.time_max/60),e=Math.floor(t/24),a=t-24*e;return"".concat(e,"d").concat(a,"h")},gpuCountOptions:function(){for(var t=[],e=1;e<=this.placeOrderData.gpu_count_max;e*=2)t.push({name:e,value:e});return t},totalPrice:function(){return 0===this.placeOrderData.gpu_count?this.placeOrderData.gpu_price_dollar*this.time*this.timeSelect+this.placeOrderData.disk_dollar*this.time*this.timeSelect:this.placeOrderData.gpu_price_dollar*this.placeOrderData.gpu_count*this.time*this.timeSelect+this.placeOrderData.disk_dollar*this.time*this.timeSelect}},methods:{getBalance:function(){var t=this;Object(n["d"])().then((function(e){t.balance=e.balance}))},getGasBalance:function(){var t=this;Object(n["e"])().then((function(e){t.gas_balance=e.gas_balance}))},computeTotalDBC:function(){var t=this;this.time&&(clearTimeout(this.reqSt),this.reqSt=setTimeout((function(){t.getPayDbcCount()}),1e3))},getPayDbcCount:function(){var t=this,e=this.$t("website_name"),a=this.$i18n.locale;Object(i["m"])({rent_time_length:60*this.time*this.timeSelect,continue_pay_order_id:this.placeOrderData.continue_pay_order_id,user_name_platform:e,language:a}).then((function(e){1===e.status?t.total_price=e.content:t.$message({showClose:!0,message:e.msg,type:"error"})}))},pocMachine:function(t){var e=this.$t("website_name"),a=this.$i18n.locale;Object(i["e"])({order_id_new:t,user_name_platform:e,language:a})},confirm:function(){if(parseInt(this.dbc_count)>parseInt(this.balance))this.$message({showClose:!0,message:this.$t("lessdbc"),type:"error"});else if(0!==this.gas_balance){var t={rent_time_length:this.time*this.timeSelect*60,order_id:this.placeOrderData.order_id,continue_pay_order_id:this.placeOrderData.continue_pay_order_id,user_name_platform:this.$t("website_name"),language:this.$i18n.locale};this.$emit("confirm",t)}else this.$message({showClose:!0,message:this.$t("zerogas"),type:"error"})},cancel:function(){this.closed(),this.$emit("cancel")},closed:function(){this.isOpen=!1,this.$emit("update:open",!1)}}},c=o,_=(a("9546"),a("9ca4")),l=Object(_["a"])(c,s,r,!1,null,"11b1f2f9",null);e["a"]=l.exports},e484:function(t,e,a){},e806:function(t,e,a){},f746:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.isOpen,width:"540px"},on:{"update:visible":function(e){t.isOpen=e},close:t.closed}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("restart_machine")))]),a("div",{staticClass:"dlg-content"},[a("div",{staticClass:"midInfo mt20"},[a("el-form",[a("el-form-item",{attrs:{label:t.$t("dlg_input_code")}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:t.restart_code,callback:function(e){t.restart_code=e},expression:"restart_code"}}),a("el-button",{staticClass:"ml10",attrs:{loading:t.isCoding,plain:"",size:"mini"},on:{click:t.getRestartCode}},[t._v(t._s(t.$t("dlg_get_code")))])],1)],1)],1)]),a("div",{staticClass:"dlg-bottom"},[a("el-button",{staticClass:"dlg-btn",attrs:{loading:t.isLoading,type:"primary",size:"small"},on:{click:t.confirm}},[t._v(t._s(t.$t("confirm")))]),a("el-button",{staticClass:"dlg-btn",attrs:{plain:"",size:"small"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))])],1)])},r=[],i=a("365c"),n={name:"popup_reload",props:{open:Boolean,item:Object},watch:{open:function(t){this.isOpen=t}},data:function(){return{isOpen:this.open,isLoading:!1,isCoding:!1,restart_code:""}},methods:{closed:function(){this.isOpen=!1,this.$emit("update:open",!1)},getRestartCode:function(){var t=this;this.isCoding=!0;var e=this.$t("website_name"),a=this.$i18n.locale;Object(i["O"])({order_id:this.item.orderData.order_id,user_name_platform:e,language:a}).then((function(e){1===e.status?t.$message({showClose:!0,message:e.msg,type:"success"}):t.$message({showClose:!0,message:e.msg,type:"error"})})).finally((function(){t.isCoding=!1}))},confirm:function(){var t=this;this.isLoading=!0;var e=this.$t("website_name"),a=this.$i18n.locale;Object(i["nb"])({order_id:this.item.orderData.order_id,restart_code:this.restart_code,user_name_platform:e,language:a}).then((function(e){1===e.status?(t.$message({showClose:!0,message:e.msg,type:"success"}),t.closed(),t.$emit("success")):t.$message({showClose:!0,message:e.msg,type:"error"})})).finally((function(){t.isLoading=!1}))},cancel:function(){this.closed()}}},o=n,c=(a("7722"),a("9ca4")),_=Object(c["a"])(o,s,r,!1,null,"17d7894b",null);e["a"]=_.exports}}]);
//# sourceMappingURL=chunk-3b970472.6e2e634d.js.map